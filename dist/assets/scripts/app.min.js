"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var app={pathToLibsFiles:"./assets/libs"};window.app=app,[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(item){item.hasOwnProperty("before")||Object.defineProperty(item,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var argArr=Array.prototype.slice.call(arguments),docFrag=document.createDocumentFragment();argArr.forEach(function(argItem){var isNode=argItem instanceof Node;docFrag.appendChild(isNode?argItem:document.createTextNode(String(argItem)))}),this.parentNode.insertBefore(docFrag,this)}})}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)}),app.asideFilters={name:"asideFilters",description:"your script description",init:function(){$(".aside-filters__item-drop").on("click",function(){$(this).toggleClass("aside-filters__item-drop--active"),$(this).parent().next().slideToggle("300"),$(this).hasClass("aside-filters__item-drop--active")?$(this).attr("aria-label","Свернуть"):$(this).attr("aria-label","Развернуть")})}},app.auth={name:"auth",description:"your script description",init:function(){$("#auth input").on("change",function(){""!==$(this).val()&&""!==$(this).parents("form").find("input[type=email]").val()&&""!==$(this).parents("form").find("input[type=password]").val()?$(this).parents("form").find('button[type="submit"]').prop("disabled",!1):$(this).parents("form").find('button[type="submit"]').prop("disabled",!0)}),$("#password-recovery input, #password-change input").on("change",function(){""!==$(this).val()?$(this).parents("form").find('button[type="submit"]').prop("disabled",!1):$(this).parents("form").find('button[type="submit"]').prop("disabled",!0)}),$("#password-change input[type=password]").on("change",function(){""!==$(this).val()&&""!==$(this).parents("form").find("input[type=password]").val()?$(this).parents("form").find('button[type="submit"]').prop("disabled",!1):$(this).parents("form").find('button[type="submit"]').prop("disabled",!0)}),$(".pass-btn").on("click",function(){$(this).hasClass("show")?($(this).parent().find("input[type=password]").attr("type","text"),$(this).removeClass("show"),$(this).addClass("hide")):($(this).parent().find("input[type=text]").attr("type","password"),$(this).removeClass("hide"),$(this).addClass("show"))}),$(".aside-popup__link-btn").on("click",function(){$(this).parent().hide(),$("#".concat($(this).data("enter"))).show()}),$(".remind-password").on("click",function(){$(this).parents(".aside-popup").removeClass("active"),$("#password-recovery").addClass("active")}),$("#password-recovery .aside-popup__back-btn").on("click",function(){$("#password-recovery").removeClass("active"),$("#auth-popup").addClass("active")})}},app.basketTotal={name:"basketTotal",description:"your script description",init:function(){function fixBasketTable(){1024<window.innerWidth&&new StickySidebar(".basket-total",{topSpacing:20,bottomSpacing:20,containerSelector:".basket-page__body",innerWrapperSelector:".basket-total__inner"})}fixBasketTable(),window.addEventListener("resize",function(){fixBasketTable()})}},app.blog={name:"blog",description:"your script description",init:function(){new Swiper(".blog-text__slider",{loop:!0,spaceBetween:27,speed:1e3,lazy:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{576:{slidesPerView:2}},on:{slideChange:function(){new LazyLoad}}})}},app.burger={name:"burger",description:"burger-btn and burger-menu logic",init:function(){$(".burger-btn").on("click",function(){$("body").addClass("_lock"),$("html").css("overflow-y","hidden"),$(".burger-menu").addClass("burger-menu--active")}),$(".burger-menu__close").on("click",function(){$("body").removeClass("_lock"),$("html").css("overflow-y","visible"),$(".burger-menu").removeClass("burger-menu--active")}),$(".burger-menu__list-item span").on("click",function(){$(this).parent().siblings().find("span").removeClass("active"),$(this).parent().siblings().find("ul").slideUp("300"),$(this).toggleClass("active"),$(this).next().slideToggle("300")}),$(".header__search-btn").on("click",function(){$(".header__main-bottom").toggleClass("header__main-bottom--active"),$(".header__main-bottom").find("input.search-form__input").toggleClass("search-form__input--active")}),$(".header-info-line__close").on("click",function(){$(this).parent().slideUp("300")})}},app.catalogCard={name:"catalogCard",description:"your script description",init:function(){$(".catalog-card__favorite:not(:disabled)").on("click",function(){var _this=this;$(this).toggleClass("favorite"),$(this).addClass("animated"),$(this).hasClass("favorite")?$(this).attr("aria-label","Убрать из избранного"):$(this).attr("aria-label","Добавить в избранное"),setTimeout(function(){$(_this).removeClass("animated")},300)}),$(".catalog__view-btn").on("click",function(){$(this).addClass("catalog__view-btn--active"),$(this).siblings().removeClass("catalog__view-btn--active"),$(".col-btn").hasClass("catalog__view-btn--active")?$(".catalog__cards").addClass("catalog__cards--two-cols"):$(".catalog__cards").removeClass("catalog__cards--two-cols"),$(".row-btn").hasClass("catalog__view-btn--active")?$(".catalog__cards").addClass("catalog__cards--row"):$(".catalog__cards").removeClass("catalog__cards--row")}),$(window).width()<768&&($(".catalog__cards").addClass("catalog__cards--two-cols"),$(".col-btn").addClass("catalog__view-btn--active")),$(window).resize(function(){$(window).width()<768&&($(".catalog__cards").addClass("catalog__cards--two-cols"),$(".col-btn").addClass("catalog__view-btn--active"))})}},app.checkout={name:"checkout",description:"your script description",init:function(){$(".checkout-radio").on("click",function(){$(this).siblings().removeClass("checkout-radio--checked"),$(this).addClass("checkout-radio--checked"),$(this).siblings().find(".checkout-radio__hidden").slideUp("300"),$(this).find(".checkout-radio__hidden").slideDown("300")})}},app.faq={name:"faq",description:"your script description",init:function(){$(".faq__item-summary").on("click",function(){$(this).parent().siblings().find("div.faq__item-summary").removeClass("faq__item-summary--active"),$(this).parent().siblings().find("div.faq__item-details").slideUp("300"),$(this).toggleClass("faq__item-summary--active"),$(this).next().slideToggle("300")})}},app.feedback={name:"feedback",description:"your script description",init:function(){$(".feedback__form input").on("change",function(){""!==$(this).val()&&""!==$(this).parents("form").find("input").val()&&$(this).parents("form").find("input[name=politics_agree]").is(":checked")&&$(this).parents("form").find("input[name=personal_agree]").is(":checked")?$(this).parents("form").find('button[type="submit"]').prop("disabled",!1):$(this).parents("form").find('button[type="submit"]').prop("disabled",!0)})}},app.iconsSlider={name:"iconsSlider",description:"your script description",init:function(){new Swiper(".icons-slider",{slidesPerView:"auto",freeMode:!0})}},app.instagram={name:"instagram",description:"your script description",init:function(){new Swiper(".instagram-slider",{loop:!0,slidesPerView:1,spaceBetween:52,speed:1e3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{501:{slidesPerView:2},768:{slidesPerView:3,spaceBetween:30},1025:{slidesPerView:4,spaceBetween:52}},on:{slideChange:function(){new LazyLoad}}})}},app.otherNews={name:"otherNews",description:"your script description",init:function(){new Swiper(".other-news__slider",{loop:!0,spaceBetween:20,speed:1e3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:52}},on:{slideChange:function(){new LazyLoad}}})}},app.pageup={name:"pageup",description:"your script description",init:function(){var pageUp=document.querySelector(".pageup");pageUp.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var footer=document.querySelector(".footer"),footerOffset=footer.offsetTop,footerHeight=footer.getBoundingClientRect().height,page=document.querySelector(".page");window.addEventListener("scroll",function(){window.scrollY>window.innerHeight?pageUp.classList.add("active"):pageUp.classList.remove("active"),window.scrollY>=footerOffset-footerHeight-page.children[page.children.length-1].getBoundingClientRect().height?pageUp.classList.add("in-footer"):pageUp.classList.remove("in-footer")})}},app.yourScriptName={name:"yourScriptName",description:"your script description",init:function(){}},app.popup={name:"popup",description:"your script description",init:function(){$(".region-header__value").on("click",function(){$(this).toggleClass("region-header__value--active"),$(this).next().slideToggle("300")}),$(".region-header__drop-item").on("click",function(){$(this).parent().prev().removeClass("region-header__value--active"),$(this).parent().prev().text($(this).text()),$(this).siblings().removeClass("region-header__drop-item--active"),$(this).addClass("region-header__drop-item--active"),$(this).parent().slideUp("300")})}},app.productCard={name:"productCard",description:"your script description",init:function(){$(".minus-btn").on("click",function($input){$input.preventDefault();for(var $input=$(this).next(),value=parseInt($input.val());0<value;){--value;break}$input.val(value)}),$(".plus-btn").on("click",function(value){value.preventDefault();var $input=$(this).prev(),value=parseInt($input.val());$input.val(value+=1)}),$(".product-color__item .radio-box").on("change",function(){$(this).is(":checked")&&($(this).next().addClass("radio-style--checked"),$(this).parent().siblings().find("span.radio-style").removeClass("radio-style--checked"))}),$(".scroll-link").on("click",function(){return $(".product-card__tab").removeClass("tab--active"),$(".tabs-content").removeClass("tabs-content--active"),$('.product-card__tab[href="#'.concat($(this).data("link"),'"]')).addClass("tab--active"),$("#".concat($(this).data("link"))).addClass("tabs-content--active"),$("html, body").animate({scrollTop:$(".product-card__info").offset().top+"px"}),!1})}},app.productDetails={name:"productDetails",description:"your script description",init:function(){$(".product-details__hide-btn").on("click",function(){$(this).toggleClass("product-details__hide-btn--active"),$(this).parent().next().slideToggle("300"),$(this).hasClass("product-details__hide-btn--active")?$(this).text("скрыть"):$(this).text("раскрыть")}),$(".tooltip__btn").hover(function(){$(this).next().fadeToggle("slow")})}},app.productPopup={name:"productPopup",description:"your script description",init:function(){new Swiper(".product-popup__slider",{loop:!0,slidesPerView:1,speed:1e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".product-popup__slider-arrow--next",prevEl:".product-popup__slider-arrow--prev"},breakpoints:{576:{slidesPerView:2},768:{slidesPerView:2,spaceBetween:20},1025:{slidesPerView:1}},on:{slideChange:function(){new LazyLoad}}})}},app.promoSale={name:"promoSale",description:"your script description",init:function(){new Swiper(".promo-sale__slider",{loop:!0,slidesPerView:1,spaceBetween:20,speed:1e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".promo-sale__slider-arrow--next",prevEl:".promo-sale__slider-arrow--prev"}})}},app.sliderSections={name:"sliderSections",description:"your script description",init:function(){new Swiper(".popular-goods-slider",{loop:!0,slidesPerView:1,spaceBetween:20,speed:1e3,navigation:{nextEl:".popular-goods-slider-arrow-next",prevEl:".popular-goods-slider-arrow-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1025:{slidesPerView:4,spaceBetween:52}},on:{slideChange:function(){new LazyLoad}}}),new Swiper(".catalog-new-slider",{loop:!0,slidesPerView:1,spaceBetween:20,speed:1e3,navigation:{nextEl:".catalog-new-slider-arrow-next",prevEl:".catalog-new-slider-arrow-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1025:{slidesPerView:4,spaceBetween:52}},on:{slideChange:function(){new LazyLoad}}}),new Swiper(".recommend-slider",{loop:!0,slidesPerView:1,spaceBetween:20,speed:1e3,navigation:{nextEl:".recommend-slider-btn-next",prevEl:".recommend-slider-btn-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1025:{slidesPerView:4,spaceBetween:52}},on:{slideChange:function(){new LazyLoad}}}),new Swiper(".similar-goods-slider",{loop:!0,slidesPerView:1,spaceBetween:20,speed:1e3,navigation:{nextEl:".similar-goods-btn-next",prevEl:".similar-goods-btn-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1025:{slidesPerView:4,spaceBetween:52}},on:{slideChange:function(){new LazyLoad}}})}},app.validation={name:"validation",description:"your script description",init:function(){function validateForms(_messages){$(_messages).validate({rules:{name:"required",surname:"required",phone:{requiredphone:!0,minlenghtphone:!0},user_agree:"required",email:"required",login_email:"required",subscribe_email:{required:!0,email:!0},password:"required",repeat_password:{required:!0,equalTo:"#password"},new_password:"required",repeat_new_password:{required:!0,equalTo:"#new_password"},city:"required",index:"required",street:"required",home:"required",flat:"required"},messages:(_defineProperty(_messages={name:"Пожалуйста, заполните обязательное поле.",surname:"Пожалуйста, заполните обязательное поле.",phone:{requiredphone:"Пожалуйста, заполните обязательное поле."},user_agree:"Пожалуйста, примите пользовательское соглашение",email:"Пожалуйста, заполните обязательное поле.",login_email:"Пожалуйста, заполните поле.",subscribe_email:{required:"Пожалуйста, заполните электронную почту.",email:"Пожалуйста, проверьте, правильно ли указан адрес электронной почты."},password:"Пожалуйста, заполните поле.",repeat_password:{required:"Пожалуйста, заполните поле.",equalTo:"Пароли не совпадают."},repeat_new_password:{required:"Пожалуйста, заполните поле.",equalTo:"Пароли не совпадают."},new_password:"Пожалуйста, заполните поле."},"repeat_new_password","Пароли не совпадают."),_defineProperty(_messages,"city","Пожалуйста, заполните обязательное поле."),_defineProperty(_messages,"index","Пожалуйста, заполните поле."),_defineProperty(_messages,"street","Пожалуйста, заполните поле."),_defineProperty(_messages,"home","Пожалуйста, заполните поле."),_defineProperty(_messages,"flat","Пожалуйста, заполните поле."),_messages)})}$.validator.addMethod("minlenghtphone",function(value,element){return 10<value.replace(/\D+/g,"").length}),$.validator.addMethod("requiredphone",function(value,element){return 1<value.replace(/\D+/g,"").length}),validateForms("#subscribe-form form"),validateForms("#auth form"),validateForms("#register form"),validateForms(".basket-page form"),validateForms("#password-change form"),validateForms("#size-subscribe-popup form"),validateForms("#discount-popup form"),validateForms("#personal-data"),validateForms("#contact-data"),$.fn.setCursorPosition=function(pos){var range;$(this).get(0).setSelectionRange?$(this).get(0).setSelectionRange(pos,pos):$(this).get(0).createTextRange&&((range=$(this).get(0).createTextRange()).collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.select())},$("input[name=phone]").on("click",function(){$(this).setCursorPosition(4)}).mask("+7 (999) 999-99-99")}},app.addLibs={name:"addLibs",description:"connect the script library dynamically",addScriptFile:function(nameFile,callback){var body=document.getElementsByTagName("body")[0],script=document.createElement("script");script.onload=function(){return callback&&callback()},script.src="".concat(app.pathToLibsFiles,"/js/").concat(nameFile,".js"),body.appendChild(script)},addStyleFile:function(nameFile){var appCss=document.getElementById("app-css"),link=document.createElement("link");link.rel="stylesheet",link.href="".concat(app.pathToLibsFiles,"/css/").concat(nameFile,".css"),appCss.before(link)},initScript:function(nameFile,nameLib,callback){var timerId,hasLibs=null;document.querySelectorAll("script").forEach(function(str){str=str.getAttribute("src");str&&0<=str.indexOf(nameFile)&&(hasLibs=!0)}),hasLibs?timerId=setInterval(function(){(window[nameLib]||window.jQuery&&jQuery()[nameLib])&&(callback(),clearInterval(timerId))},1):this.addScriptFile(nameFile,callback)},initStyle:function(nameFile){var hasLibs=null;document.querySelectorAll("link").forEach(function(str){str=str.getAttribute("src");str&&0<=str.indexOf(nameFile)&&(hasLibs=!0)}),hasLibs||this.addStyleFile(nameFile)}},function($){$(document).ready(function(){new LazyLoad,$('[data-fancybox="gallery"]').fancybox({backFocus:!1}),$(".select__title").on("click",function(){$(this).parents(".sale-popup__form-item").siblings().find(".select__title").removeClass("select__title--active"),$(this).parents(".sale-popup__form-item").siblings().find(".select__content").slideUp("300"),$(this).toggleClass("select__title--active"),$(this).next().slideToggle("300")}),$(".select__option").on("click",function(){$(this).parent().prev().text($(this).find("span.select__option-text").text()),$(this).parent().prev().removeClass("select__title--active"),$(this).parent().slideUp("300")}),$("#".concat($(".shops-availability__select .select__content").children().first().data("city"))).show(),$(".shops-availability .select__option").on("click",function(){$(".shops-availability__content").hide(),$("#".concat($(this).data("city"))).show()}),$(".tab").on("click",function(e){e.preventDefault(),$(this).siblings().removeClass("tab--active"),$(".tabs-content").removeClass("tabs-content--active"),$(this).addClass("tab--active"),$($(this).attr("href")).addClass("tabs-content--active")}),app.validation.init(),app.burger.init(),app.promoSale.init(),app.iconsSlider.init(),app.sliderSections.init(),app.instagram.init(),app.otherNews.init(),app.blog.init(),app.catalogCard.init(),app.asideFilters.init(),app.productCard.init(),app.productPopup.init(),app.productDetails.init(),app.popup.init(),app.checkout.init(),app.faq.init(),app.feedback.init(),app.pageup.init(),app.auth.init(),$("main").hasClass("basket-page")&&app.basketTotal.init()})}(jQuery);