"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var app = {
  pathToLibsFiles: './assets/libs'
};
window.app = app; // polyfills
// before polyfills

(function (arr) {
  arr.forEach(function (item) {
    if (item.hasOwnProperty('before')) {
      return;
    }

    Object.defineProperty(item, 'before', {
      configurable: true,
      enumerable: true,
      writable: true,
      value: function before() {
        // eslint-disable-next-line prefer-rest-params
        var argArr = Array.prototype.slice.call(arguments);
        var docFrag = document.createDocumentFragment();
        argArr.forEach(function (argItem) {
          var isNode = argItem instanceof Node;
          docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));
        });
        this.parentNode.insertBefore(docFrag, this);
      }
    });
  });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]); // forEach polyfill


if (window.NodeList && !NodeList.prototype.forEach) {
  NodeList.prototype.forEach = function (callback, thisArg) {
    // eslint-disable-next-line no-param-reassign
    thisArg = thisArg || window;

    for (var i = 0; i < this.length; i++) {
      callback.call(thisArg, this[i], i, this);
    }
  };
}

app.asideFilters = {
  name: 'asideFilters',
  description: 'your script description',
  init: function init() {
    // Аккордеон
    $('.aside-filters__item-drop').on('click', function () {
      $(this).toggleClass('aside-filters__item-drop--active');
      $(this).parent().next().slideToggle('300');

      if ($(this).hasClass('aside-filters__item-drop--active')) {
        $(this).attr('aria-label', 'Свернуть');
      } else {
        $(this).attr('aria-label', 'Развернуть');
      }
    });
  }
};
app.auth = {
  name: 'auth',
  description: 'your script description',
  init: function init() {
    // Закрытие выезжающего справа попапа
    $('.aside-popup__close').on('click', function () {
      $(this).parents('.aside-popup').removeClass('active');
      $(this).parent().fadeOut('slow');
      $('.overlay').fadeOut('300');
      $('body').removeClass('_lock');
    }); // Логика задизейбленной кнопки

    $('#auth input').on('change', function () {
      if ($(this).val() !== '' && $(this).parents('form').find('input[type=email]').val() !== '' && $(this).parents('form').find('input[type=password]').val() !== '') {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', false);
      } else {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', true);
      }
    }); // Логика задизейбленной кнопки

    $('#password-recovery input, #password-change input').on('change', function () {
      if ($(this).val() !== '') {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', false);
      } else {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', true);
      }
    }); // Логика задизейбленной кнопки

    $('#password-change input[type=password]').on('change', function () {
      if ($(this).val() !== '' && $(this).parents('form').find('input[type=password]').val() !== '') {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', false);
      } else {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', true);
      }
    }); // password input eye toggle

    $('.pass-btn').on('click', function () {
      if ($(this).hasClass('show')) {
        $(this).parent().find('input[type=password]').attr('type', 'text');
        $(this).removeClass('show');
        $(this).addClass('hide');
      } else {
        $(this).parent().find('input[type=text]').attr('type', 'password');
        $(this).removeClass('hide');
        $(this).addClass('show');
      }
    }); // toogle phone / email enter

    $('.aside-popup__link-btn').on('click', function () {
      $(this).parent().hide();
      $("#".concat($(this).data('enter'))).show();
    }); // Восстановление пароля открыть

    $('.remind-password').on('click', function () {
      $(this).parents('.aside-popup').removeClass('active');
      $(this).parents('.aside-popup').hide();
      $('#password-recovery').fadeIn('slow');
      $('#password-recovery').addClass('active');
    }); // Восстановление пароля закрыть

    $('#password-recovery .aside-popup__back-btn').on('click', function () {
      $(this).parents('.aside-popup').removeClass('active');
      $(this).parents('.aside-popup').hide();
      $('#auth-popup').fadeIn('slow');
      $('#auth-popup').addClass('active');
    }); // // Восстановление пароля форма успешно отправлена

    $('#password-recovery form').submit(function (e) {
      e.preventDefault();
      $(this).append('<div class="form-success aside-popup__form-success">Письмо оптравлено. Для восстановления пароля перейдите по ссылке в письме</div>');
    });
  }
};
app.basketTotal = {
  name: 'basketTotal',
  description: 'your script description',
  init: function init() {
    $('input[name=promocode]').on('change', function () {
      if ($(this).val() !== 0) {
        $(this).addClass('valid');
      }
    }); //const basketPageBody = document.querySelector('.basket-page__body');

    var headerHeight = document.querySelector('.header').getBoundingClientRect().height;
    var basketTotalFixedTable = document.querySelector('.basket-total');
    var basketPageBody = document.querySelector('.basket-page__body');
    var basketPageBodyHeight = basketPageBody.getBoundingClientRect().height;
    var breadcrumbsHeight = document.querySelector('.breadcrumbs').getBoundingClientRect().height;
    var h1 = document.querySelector('h1');

    function fixBasketTable() {
      window.addEventListener('scroll', function () {
        if (window.innerWidth >= 1025 && window.scrollY > headerHeight + breadcrumbsHeight + h1.getBoundingClientRect().height && window.scrollY <= basketPageBodyHeight - headerHeight) {
          basketTotalFixedTable.classList.add('fixed');
          basketPageBody.classList.add('scroll-grid');
          basketTotalFixedTable.style.top = '30px';
        } else {
          basketTotalFixedTable.classList.remove('fixed');
          basketPageBody.classList.remove('scroll-grid');
          basketTotalFixedTable.style.top = "".concat(headerHeight + basketPageBody.offsetTop - window.scrollY, "px");
        }
      });
    }

    fixBasketTable();
    window.addEventListener('resize', function () {
      fixBasketTable();
    });
  }
};
app.blog = {
  name: 'blog',
  description: 'your script description',
  init: function init() {
    new Swiper('.blog-text__slider', {
      loop: true,
      spaceBetween: 27,
      speed: 1000,
      lazy: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      breakpoints: {
        576: {
          slidesPerView: 2
        }
      }
    });
  }
};
app.burger = {
  name: 'burger',
  description: 'burger-btn and burger-menu logic',
  init: function init() {
    $('.burger-btn').on('click', function () {
      $('body').addClass('_lock');
      $('.burger-menu').addClass('burger-menu--active');
    });
    $('.burger-menu__close').on('click', function () {
      $('body').removeClass('_lock');
      $('.burger-menu').removeClass('burger-menu--active');
    });
    /* $('.header__menu-link').on('click', function () {
    	$('body').removeClass('_lock');
    	$('.burger-menu').removeClass('burger-menu--active');
    }); */

    $('.burger-menu__list-item span').on('click', function () {
      $(this).parent().siblings().find('span').removeClass('active');
      $(this).parent().siblings().find('ul').slideUp('300');
      $(this).toggleClass('active');
      $(this).next().slideToggle('300');
    });
    $('.header__search-btn').on('click', function () {
      $('.header__main-bottom').toggleClass('header__main-bottom--active');
      $('.header__main-bottom').find('input.search-form__input').toggleClass('search-form__input--active');
    });
    $('.header-info-line__close').on('click', function () {
      $(this).parent().slideUp('300');
    });
  }
};
app.catalogCard = {
  name: 'catalogCard',
  description: 'your script description',
  init: function init() {
    $('.catalog-card__favorite').on('click', function () {
      var _this = this;

      $(this).parent().toggleClass('favorite');
      $(this).addClass('animated');
      setTimeout(function () {
        $(_this).removeClass('animated');
      }, 300);
    });
    $('.catalog__view-btn').on('click', function () {
      $(this).addClass('catalog__view-btn--active');
      $(this).siblings().removeClass('catalog__view-btn--active');

      if ($('.col-btn').hasClass('catalog__view-btn--active')) {
        $('.catalog__cards').addClass('catalog__cards--two-cols');
      } else {
        $('.catalog__cards').removeClass('catalog__cards--two-cols');
      }

      if ($('.row-btn').hasClass('catalog__view-btn--active')) {
        $('.catalog__cards').addClass('catalog__cards--row');
      } else {
        $('.catalog__cards').removeClass('catalog__cards--row');
      }
    });

    if ($(window).width() < 768) {
      $('.catalog__cards').addClass('catalog__cards--two-cols');
      $('.col-btn').addClass('catalog__view-btn--active');
    }

    $(window).resize(function () {
      if ($(window).width() < 768) {
        $('.catalog__cards').addClass('catalog__cards--two-cols');
        $('.col-btn').addClass('catalog__view-btn--active');
      }
    });
  }
};
app.catalogFilters = {
  name: 'catalogFilters',
  description: 'your script description',
  init: function init() {
    $('.catalog-filters__item-title').on('click', function () {
      $(this).parent().siblings().find('legend').removeClass('catalog-filters__item-title--active');
      $(this).parent().siblings().find('div.catalog-drop-filter').slideUp('300');
      $(this).toggleClass('catalog-filters__item-title--active');
      $(this).next().slideToggle('300');
    });
    $('.catalog-filters__item--material input[type="checkbox"], .catalog-filters__item--color input[type="checkbox"], .catalog-filters__item--brand input[type="checkbox"], .catalog-filters__item--details input[type="checkbox"], .catalog-filters__item--style input[type="checkbox"], .catalog-filters__item--decor input[type="checkbox"]').on('click', function () {
      var className = $(this).parents('.catalog-filters__item').attr('class').split(' ').join('.');
      var checkedItems = $(".".concat(className, " input:checkbox:checked")).length;

      if (checkedItems > 0) {
        $(this).parents('.catalog-drop-filter').prev().find('span.filter-output').text("(".concat(checkedItems, ")"));
        $(this).parents('.catalog-drop-filter').prev().css('font-weight', '600');
      } else {
        $(this).parents('.catalog-drop-filter').prev().css('font-weight', '400');
        $(this).parents('.catalog-drop-filter').prev().find('span.filter-output').text('');
      }
    });
    $('.catalog-filters__reset-btn').on('click', function () {
      $('.catalog-filters__item--sort').find('.catalog-filters__item-title').text('Сортировать');
      $('.catalog-filters__item-title').css('font-weight', '400');
      $('.catalog-filters__item-title').find('span.filter-output').text('');
      $('.catalog-filters__item-title').removeClass('catalog-filters__item-title--active');
      $('.catalog-drop-filter').slideUp('300');
    });
    $('.catalog-drop-filter__btn[type=reset]').on('click', function () {
      $(this).parents('.catalog-drop-filter').prev().css('font-weight', '400');
      $(this).parents('.catalog-drop-filter').prev().find('span.filter-output').text('');
    });
    $('.filters-btn').on('click', function () {
      $('.catalog-filters').addClass('catalog-filters--active');
    });
    $('.catalog-filters__close').on('click', function () {
      $('.catalog-filters').removeClass('catalog-filters--active');
    });
    $('.catalog-filters__item-title').on('click', function () {
      if ($(window).width() < 1025) {
        $('.catalog-filters__back-btn').show();
        $('.catalog-filters__title').text($(this).children().first().text());
        $(this).parent().siblings().hide();
        $(this).hide();
        $(this).next().show();
      }
    });
    $('.catalog-filters__back-btn').on('click', function () {
      $('.catalog-filters__back-btn').hide();
      $('.catalog-filters__title').text('Фильтры');
      $('.catalog-filters__item').show();
      $('.catalog-filters__item-title').show();
      $('.catalog-filters__item-title').removeClass('catalog-filters__item-title--active');
      $('.catalog-drop-filter').hide();
    });
  }
};
app.checkout = {
  name: 'checkout',
  description: 'your script description',
  init: function init() {
    $('.checkout-radio').on('click', function () {
      $(this).siblings().removeClass('checkout-radio--checked');
      $(this).addClass('checkout-radio--checked');
      $(this).siblings().find('.checkout-radio__hidden').slideUp('300');
      $(this).find('.checkout-radio__hidden').slideDown('300');
    });
  }
};
app.dropBasket = {
  name: 'dropBasket',
  description: 'your script description',
  init: function init() {
    if ($('.drop-basket__products').length == 0) {
      $('.drop-basket__empty').show();
    } else {
      $('.drop-basket__empty').hide();
    }
  }
};
app.dropMenu = {
  name: 'dropMenu',
  description: 'your script description',
  init: function init() {
    if ($(window).width() >= 1025) {
      $('.header__list-link').not('.header__list-link--red').on('mouseover', function () {
        $(this).parent().siblings().find('a').removeClass('header__list-link--active');
        $(this).toggleClass('header__list-link--active');
        $('.drop-menu').fadeOut();
        $("#".concat($(this).attr('data-category-link'))).fadeToggle('500');
      });
      $(document).on('mouseup ', function (e) {
        var dropLink = $(this);
        var dropMenu = $("#".concat($(this).attr('data-category-link')));

        if (!dropMenu.is(e.target) && !dropLink.is(e.target) && dropMenu.has(e.target).length === 0) {
          $('.drop-menu').fadeOut('300');
          $(this).parent().siblings().find('a').removeClass('header__list-link--active');
        }
      });
    }

    window.addEventListener('scroll', function () {
      if (window.scrollY > window.innerHeight) {
        $('.drop-menu').hide();
        $('.header__list-link--active').removeClass('header__list-link--active');
      }
    });
  }
};
app.faq = {
  name: 'faq',
  description: 'your script description',
  init: function init() {
    $('.faq__item-summary').on('click', function () {
      $(this).parent().siblings().find('div.faq__item-summary').removeClass('faq__item-summary--active');
      $(this).parent().siblings().find('div.faq__item-details').slideUp('300');
      $(this).toggleClass('faq__item-summary--active');
      $(this).next().slideToggle('300');
    });
  }
};
app.feedback = {
  name: 'feedback',
  description: 'your script description',
  init: function init() {
    $('.feedback__form input').on('change', function () {
      if ($(this).val() !== '' && $(this).parents('form').find('input').val() !== '' && $(this).parents('form').find('input[name=politics_agree]').is(':checked') && $(this).parents('form').find('input[name=personal_agree]').is(':checked')) {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', false);
      } else {
        $(this).parents('form').find('button[type="submit"]').prop('disabled', true);
      }
    });
  }
};
app.iconsSlider = {
  name: 'iconsSlider',
  description: 'your script description',
  init: function init() {
    // ================ ICONS-SLIDER ============== //
    new Swiper('.icons-slider', {
      slidesPerView: 'auto',
      freeMode: true
    });
  }
};
app.instagram = {
  name: 'instagram',
  description: 'your script description',
  init: function init() {
    var instagramSlider = new Swiper('.instagram-slider', {
      lazy: true,
      loop: true,
      slidesPerView: 1,
      spaceBetween: 52,
      speed: 1000,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      breakpoints: {
        501: {
          slidesPerView: 2
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 30
        },
        1025: {
          slidesPerView: 4,
          spaceBetween: 52
        }
      }
    });
    instagramSlider.on('slideChange', function () {
      new LazyLoad();
    });
  }
};
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.otherNews = {
  name: 'otherNews',
  description: 'your script description',
  init: function init() {
    var otherNewsSlider = new Swiper('.other-news__slider', {
      loop: true,
      spaceBetween: 20,
      speed: 1000,
      //lazy: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
          spaceBetween: 52
        }
      }
    });
    otherNewsSlider.on('slideChange', function () {
      new LazyLoad();
    });
  }
};
app.pageup = {
  name: 'pageup',
  description: 'your script description',
  init: function init() {
    var pageUp = document.querySelector('.pageup');
    pageUp.addEventListener('click', function () {
      window.scrollTo({
        top: 0,
        behavior: "smooth"
      });
    });
    var footer = document.querySelector('.footer');
    var footerOffset = footer.offsetTop;
    var footerHeight = footer.getBoundingClientRect().height;
    var page = document.querySelector('.page');
    window.addEventListener('scroll', function () {
      if (window.scrollY > window.innerHeight) {
        pageUp.classList.add('active');
      } else {
        pageUp.classList.remove('active');
      }

      if (window.scrollY >= footerOffset - footerHeight - page.children[page.children.length - 1].getBoundingClientRect().height) {
        pageUp.classList.add('in-footer');
      } else {
        pageUp.classList.remove('in-footer');
      }
    });
  }
};
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.pickupPopup = {
  name: 'pickupPopup',
  description: 'your script description',
  init: function init() {
    ymaps.ready(init);

    function init() {
      var myMap = new ymaps.Map("pickup-map", {
        center: [59.925299, 30.358448],
        zoom: 15,
        controls: ['zoomControl']
      });
      var myGeoObjects = [];
      myGeoObjects[0] = new ymaps.Placemark([59.925299, 30.358448], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'assets/images/icons/red-pin.svg',
        // Размеры метки.
        iconImageSize: [50, 50] // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        //iconImageOffset: [-3, -42]

      });
      myGeoObjects[1] = new ymaps.Placemark([59.922585, 30.348252], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'assets/images/icons/black-pin.svg',
        // Размеры метки.
        iconImageSize: [32, 32] // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        //iconImageOffset: [-3, -42]

      });
      myGeoObjects[2] = new ymaps.Placemark([59.932473, 30.349169], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'img/icons/black-pin.svg',
        // Размеры метки.
        iconImageSize: [32, 32],
        // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        iconImageOffset: [-16, -42]
      });
      myGeoObjects[3] = new ymaps.Placemark([59.885133, 30.443366], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'img/icons/black-pin.svg',
        // Размеры метки.
        iconImageSize: [32, 32],
        // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        iconImageOffset: [-16, -42]
      });
      myGeoObjects[4] = new ymaps.Placemark([59.929538, 30.418321], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'img/icons/black-pin.svg',
        // Размеры метки.
        iconImageSize: [32, 32],
        // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        iconImageOffset: [-16, -42]
      });
      myGeoObjects[5] = new ymaps.Placemark([59.921570, 30.345611], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'img/icons/black-pin.svg',
        // Размеры метки.
        iconImageSize: [32, 32],
        // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        iconImageOffset: [-16, -42]
      });
      myGeoObjects[6] = new ymaps.Placemark([59.912260, 30.329334], {
        clusterCaption: 'Заголовок' //balloonContentBody: 'Текст в балуне',

      }, {
        // Необходимо указать данный тип макета.
        iconLayout: 'default#image',
        iconImageHref: 'img/icons/black-pin.svg',
        // Размеры метки.
        iconImageSize: [32, 32],
        // Смещение левого верхнего угла иконки относительно
        // её «ножки» (точки привязки).
        iconImageOffset: [-16, -42]
      });
      /* var clusterIcons = [{
      	href: '/images/pointer.png',
      	size: [31, 40],
      	offset: [0, 0]
      }]; */

      var clusterer = new ymaps.Clusterer({
        clusterDisableClickZoom: false,
        clusterOpenBalloonOnClick: false,
        // Устанавливаем стандартный макет балуна кластера "Карусель".
        clusterBalloonContentLayout: 'cluster#balloonCarousel',
        // Устанавливаем собственный макет.
        //clusterBalloonItemContentLayout: customItemContentLayout,
        // Устанавливаем режим открытия балуна. 
        // В данном примере балун никогда не будет открываться в режиме панели.
        clusterBalloonPanelMaxMapArea: 0,
        // Устанавливаем размеры макета контента балуна (в пикселях).
        clusterBalloonContentLayoutWidth: 300,
        clusterBalloonContentLayoutHeight: 200,
        // Устанавливаем максимальное количество элементов в нижней панели на одной странице
        clusterBalloonPagerSize: 5 // Настройка внешего вида нижней панели.
        // Режим marker рекомендуется использовать с небольшим количеством элементов.
        // clusterBalloonPagerType: 'marker',
        // Можно отключить зацикливание списка при навигации при помощи боковых стрелок.
        // clusterBalloonCycling: false,
        // Можно отключить отображение меню навигации.
        // clusterBalloonPagerVisible: false

      });
      clusterer.add(myGeoObjects);
      myMap.geoObjects.add(clusterer);
    }
  }
};
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.popup = {
  name: 'popup',
  description: 'your script description',
  init: function init() {
    $('.js-cart-btn').on('click', function () {
      $('body').addClass('_lock');
      $('.overlay').fadeIn('slow');
      $('#drop-basket').fadeIn('slow');
      $('#drop-basket').addClass('active');
    });
    $('.js-auth-btn').on('click', function () {
      $('body').addClass('_lock');
      $('.overlay').fadeIn('slow');
      $('#auth-popup').fadeIn('slow');
      $('#auth-popup').addClass('active');
    });
    $('.region-header__value').on('click', function () {
      $(this).toggleClass('region-header__value--active');
      $(this).next().slideToggle('300');
    });
    $('.region-header__drop-item').on('click', function () {
      $(this).parent().prev().removeClass('region-header__value--active');
      $(this).parent().prev().text($(this).text());
      $(this).siblings().removeClass('region-header__drop-item--active');
      $(this).addClass('region-header__drop-item--active');
      $(this).parent().slideUp('300');
    }); //&& $('input[name="user-agreement"]').is(':checked')
  }
};
app.pricefilter = {
  name: 'pricefilter',
  description: 'your script description',
  init: function init() {
    $('input[name=price_from]').on('input change', function () {
      if ($(this).val() !== 0) {
        $('#price_from').text("".concat($(this).val(), " -"));
        $(this).parents('.catalog-filters__item').find('.catalog-filters__item-title').css('font-weight', '600');
      } else {
        $('#price_from').text('');
      }
    });
    $('input[name=price_to]').on('input change', function () {
      if ($(this).val() !== 0) {
        $('#price_to').text("".concat($(this).val()));
      } else {
        $('#price_to').text('');
      }
    });
  }
};
app.productCard = {
  name: 'productCard',
  description: 'your script description',
  init: function init() {
    $('.minus-btn').on('click', function (e) {
      e.preventDefault();
      var $this = $(this);
      var $input = $this.next();
      var value = parseInt($input.val());

      while (value > 0) {
        value -= 1;
        break;
      }

      $input.val(value);
    });
    $('.plus-btn').on('click', function (e) {
      e.preventDefault();
      var $this = $(this);
      var $input = $this.prev();
      var value = parseInt($input.val());
      value += 1;
      $input.val(value);
    });
    $('.product-color__item .radio-box').on('change', function () {
      if ($(this).is(':checked')) {
        $(this).next().addClass('radio-style--checked');
        $(this).parent().siblings().find('span.radio-style').removeClass('radio-style--checked');
      }
    });
    $('.product-favorite-btn').on('click', function () {
      $(this).toggleClass('favorite');
    });
    $(".scroll-link").on('click', function () {
      $('.product-card__tab').removeClass('tab--active');
      $('.tabs-content').removeClass('tabs-content--active');
      $(".product-card__tab[href=\"#".concat($(this).data('link'), "\"]")).addClass('tab--active');
      $("#".concat($(this).data('link'))).addClass('tabs-content--active');
      $("html, body").animate({
        scrollTop: $('.product-card__info').offset().top + "px"
      });
      return false;
    });
  }
};
app.productDetails = {
  name: 'productDetails',
  description: 'your script description',
  init: function init() {
    $('.product-details__hide-btn').on('click', function () {
      $(this).toggleClass('product-details__hide-btn--active');
      $(this).parent().next().slideToggle('300');

      if (!$(this).hasClass('product-details__hide-btn--active')) {
        $(this).text('раскрыть');
      } else {
        $(this).text('скрыть');
      }
    });
    $('.tooltip__btn').hover(function () {
      $(this).next().fadeToggle('slow');
    });
  }
};
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.productPopup = {
  name: 'productPopup',
  description: 'your script description',
  init: function init() {
    new Swiper('.product-popup__slider', {
      loop: true,
      slidesPerView: 1,
      speed: 1000,
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },
      navigation: {
        nextEl: '.product-popup__slider-arrow--next',
        prevEl: '.product-popup__slider-arrow--prev'
      },
      breakpoints: {
        576: {
          slidesPerView: 2
        },
        768: {
          slidesPerView: 2,
          spaceBetween: 20
        },
        1025: {
          slidesPerView: 1
        }
      }
    });
  }
};
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.promoSale = {
  name: 'promoSale',
  description: 'your script description',
  init: function init() {
    new Swiper('.promo-sale__slider', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 20,
      speed: 1000,
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },
      navigation: {
        nextEl: '.promo-sale__slider-arrow--next',
        prevEl: '.promo-sale__slider-arrow--prev'
      }
    });
  }
};
app.regionPopup = {
  name: 'regionPopup',
  description: 'your script description',
  init: function init() {
    $('.region-popup__city .radio-text').on('click', function () {
      $.fancybox.close();
      $('.header__region').text($(this).text());
    });
  }
};
app.searchForm = {
  name: 'searchForm',
  description: 'your script description',
  init: function init() {
    $('.search-form__input').on('input', function () {
      $(this).next().fadeIn('slow');
    });
    $('.search-form__input').on('input change', function () {
      if ($(this).val() === '') {
        $(this).next().fadeOut('slow');
      } else {
        $(this).next().fadeIn('slow');
      }
    });
    $('.search-form__input').on('focus', function () {
      if ($(this).val() !== '') {
        $(this).next().fadeIn('slow');
      }
    });
    $('.search-form__input').on('focusout', function () {
      $(this).next().fadeOut('slow');
    });
  }
};
app.sizeFilter = {
  name: 'sizeFilter',
  description: 'your script description',
  init: function init() {
    var checkedSizes = [];
    $('.catalog-filters__item--size input[type="checkbox"]').on('click', function () {
      if ($(this).is(':checked')) {
        checkedSizes.push($(this).next().next().text());
      } else {
        checkedSizes.pop();
      }

      if (checkedSizes.length > 0) {
        $(this).parents('.catalog-drop-filter').prev().find('span.filter-output').text("(".concat(checkedSizes.sort().join(', '), ")"));
        $(this).parents('.catalog-drop-filter').prev().css('font-weight', '600');
      } else {
        $(this).parents('.catalog-drop-filter').prev().css('font-weight', '400');
        $(this).parents('.catalog-drop-filter').prev().find('span.filter-output').text('');
      }
    });
  }
};
app.sliderSections = {
  name: 'sliderSections',
  description: 'your script description',
  init: function init() {
    var catalogSlider = new Swiper('.catalog-slider', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 20,
      speed: 1000,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1025: {
          slidesPerView: 4,
          spaceBetween: 52
        }
      }
    });
    catalogSlider.on('slideChange', function () {
      new LazyLoad();
    });
    var catalogNewSlider = new Swiper('.catalog-new-slider', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 20,
      speed: 1000,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1025: {
          slidesPerView: 4,
          spaceBetween: 52
        }
      }
    });
    catalogNewSlider.on('slideChange', function () {
      new LazyLoad();
    });
    var recommendSlider = new Swiper('.recommend-slider', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 20,
      speed: 1000,
      navigation: {
        nextEl: '.recommend-slider-btn-next',
        prevEl: '.recommend-slider-btn-prev'
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1025: {
          slidesPerView: 4,
          spaceBetween: 52
        }
      }
    });
    recommendSlider.on('slideChange', function () {
      new LazyLoad();
    });
    var similarGoodsSlider = new Swiper('.similar-goods-slider', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 20,
      speed: 1000,
      navigation: {
        nextEl: '.similar-goods-btn-next',
        prevEl: '.similar-goods-btn-prev'
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1025: {
          slidesPerView: 4,
          spaceBetween: 52
        }
      }
    });
    similarGoodsSlider.on('slideChange', function () {
      new LazyLoad();
    });
  }
};
app.sortFilter = {
  name: 'sortFilter',
  description: 'your script description',
  init: function init() {
    $('.catalog-filters__item--sort .catalog-filters__item-title').on('click', function () {
      $(this).toggleClass('catalog-filters__item-title--bold');
    });
    $('.catalog-filters__item--sort .catalog-drop-filter__item').on('click', function () {
      $(this).parents('.catalog-drop-filter').prev().text($(this).find('span.radio-text').text());

      if ($(window).width() > 1024) {
        $(this).parents('.catalog-drop-filter').slideUp('300');
        $(this).parents('.catalog-drop-filter').prev().removeClass('catalog-filters__item-title--active');
        $(this).parents('.catalog-drop-filter').prev().removeClass('catalog-filters__item-title--bold');
      }
    });
  }
};
app.validation = {
  name: 'validation',
  description: 'your script description',
  init: function init() {
    // validation
    $.validator.addMethod("minlenghtphone", function (value, element) {
      return value.replace(/\D+/g, '').length > 10;
    });
    $.validator.addMethod("requiredphone", function (value, element) {
      return value.replace(/\D+/g, '').length > 1;
    });

    function validateForms(form) {
      var _messages;

      $(form).validate({
        rules: {
          name: "required",
          surname: "required",
          phone: {
            requiredphone: true,
            minlenghtphone: true
          },
          user_agree: "required",
          email: "required",
          login_email: "required",
          subscribe_email: {
            required: true,
            email: true
          },
          password: "required",
          repeat_password: {
            required: true,
            equalTo: '#password'
          },
          new_password: "required",
          repeat_new_password: {
            required: true,
            equalTo: '#new_password'
          },
          city: "required",
          index: "required",
          street: "required",
          home: "required",
          flat: "required"
        },
        messages: (_messages = {
          name: "Пожалуйста, заполните обязательное поле.",
          surname: "Пожалуйста, заполните обязательное поле.",
          phone: {
            requiredphone: "Пожалуйста, заполните обязательное поле."
          },
          user_agree: "Пожалуйста, примите пользовательское соглашение",
          email: "Пожалуйста, заполните обязательное поле.",
          login_email: "Пожалуйста, заполните поле.",
          subscribe_email: {
            required: "Пожалуйста, заполните электронную почту.",
            email: "Пожалуйста, проверьте, правильно ли указан адрес электронной почты."
          },
          password: "Пожалуйста, заполните поле.",
          repeat_password: {
            required: "Пожалуйста, заполните поле.",
            equalTo: "Пароли не совпадают."
          },
          repeat_new_password: {
            required: "Пожалуйста, заполните поле.",
            equalTo: "Пароли не совпадают."
          },
          new_password: "Пожалуйста, заполните поле."
        }, _defineProperty(_messages, "repeat_new_password", "Пароли не совпадают."), _defineProperty(_messages, "city", "Пожалуйста, заполните обязательное поле."), _defineProperty(_messages, "index", "Пожалуйста, заполните поле."), _defineProperty(_messages, "street", "Пожалуйста, заполните поле."), _defineProperty(_messages, "home", "Пожалуйста, заполните поле."), _defineProperty(_messages, "flat", "Пожалуйста, заполните поле."), _messages)
        /* success: function () {
        	
        }, */

      });
    }

    validateForms('#subscribe-form form');
    validateForms('#auth form');
    validateForms('#register form');
    validateForms('.basket-page form');
    validateForms('#password-change form'); // форма подписки в футере

    $('.form-row__input').on('change', function () {
      if ($('#subscribe_email-error').attr('style') === 'display: none;') {
        $(this).parent().find('button').css('background-color', '#101112');
        $(this).parent().find('button').css('border-color', '#101112');
      }
    });
    /* $('#subscribe-form form').submit(function (e) {
    	e.preventDefault();
    	$.ajax({
    		type: "POST",
    		url: "/",
    		data: $(this).serialize(),
    		success: function () {
    			$(this).append('<div class="form-success subscribe-form__success">Спасибо! Письмо уже на Вашей почте</div>');
    		}
    	});
    }); */

    $.fn.setCursorPosition = function (pos) {
      if ($(this).get(0).setSelectionRange) {
        $(this).get(0).setSelectionRange(pos, pos);
      } else if ($(this).get(0).createTextRange) {
        var range = $(this).get(0).createTextRange();
        range.collapse(true);
        range.moveEnd('character', pos);
        range.moveStart('character', pos);
        range.select();
      }
    }; //mask


    $("input[name=phone]").on('click', function () {
      $(this).setCursorPosition(4);
    }).mask("+7 (999) 999-99-99");
  }
};
app.addLibs = {
  name: 'addLibs',
  description: 'connect the script library dynamically',
  addScriptFile: function addScriptFile(nameFile, callback) {
    var body = document.getElementsByTagName('body')[0];
    var script = document.createElement('script');

    script.onload = function () {
      return callback && callback();
    };

    script.src = "".concat(app.pathToLibsFiles, "/js/").concat(nameFile, ".js");
    body.appendChild(script);
  },
  addStyleFile: function addStyleFile(nameFile) {
    var appCss = document.getElementById('app-css');
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = "".concat(app.pathToLibsFiles, "/css/").concat(nameFile, ".css");
    appCss.before(link);
  },
  initScript: function initScript(nameFile, nameLib, callback) {
    var hasLibs = null;
    var scripts = document.querySelectorAll('script');
    scripts.forEach(function (el) {
      var str = el.getAttribute('src');

      if (str) {
        if (str.indexOf(nameFile) >= 0) {
          hasLibs = true;
        }
      }
    });

    if (!hasLibs) {
      this.addScriptFile(nameFile, callback);
    } else {
      var timerId = setInterval(function () {
        if (window[nameLib] || window.jQuery && jQuery()[nameLib]) {
          callback();
          clearInterval(timerId);
        }
      }, 1);
    }
  },
  initStyle: function initStyle(nameFile) {
    var hasLibs = null;
    var link = document.querySelectorAll('link');
    link.forEach(function (el) {
      var str = el.getAttribute('src');

      if (str) {
        if (str.indexOf(nameFile) >= 0) {
          hasLibs = true;
        }
      }
    });

    if (!hasLibs) {
      this.addStyleFile(nameFile);
    }
  }
};
$(document).ready(function () {
  new LazyLoad();
  new WOW().init();
  $('.header__cart-num').text("(".concat($('.drop-basket__product').length, ")"));
  $('.select__title').on('click', function () {
    $(this).parents('.sale-popup__form-item').siblings().find('.select__title').removeClass('select__title--active');
    $(this).parents('.select').siblings().find('.select__content').slideUp('300');
    $(this).toggleClass('select__title--active');
    $(this).next().slideToggle('300');
  });
  $('.select__option').on('click', function () {
    $(this).parent().prev().text($(this).find('span.select__option-text').text());
    $(this).parent().prev().removeClass('select__title--active');
    $(this).parent().slideUp('300');
  }); // Переключение списка магазинов в зависимости от выбранного города (карточка товара)

  $("#".concat($('.shops-availability__select .select__content').children().first().data('city'))).show();
  $('.shops-availability .select__option').on('click', function () {
    $('.shops-availability__content').hide();
    $("#".concat($(this).data('city'))).show();
  });
  $('.subscribe-item__change-btn').on('click', function () {
    $('.sale-popup__title').text($(this).parent().parent().prev().text());
  }); // Открытие попапа через 2 мин

  /* setTimeout(() => {
  	$.fancybox.open({
  		src: '#discount-popup',
  		type: 'inline',
  	});
  }, 3000); */

  if ($('main').hasClass('auth')) {
    $('body').addClass('_lock');
    $('.overlay').show('slow');
    $('#auth-popup').fadeIn('slow');
    $('#auth-popup').addClass('active');
  }

  if ($('main').hasClass('drop-basket-page')) {
    $('body').addClass('_lock');
    $('.overlay').show('slow');
    $('#drop-basket').fadeIn('slow');
    $('#drop-basket').addClass('active');
  }

  $('.tab').on('click', function (e) {
    e.preventDefault();
    $(this).siblings().removeClass('tab--active');
    $('.tabs-content').removeClass('tabs-content--active');
    $(this).addClass('tab--active');
    $($(this).attr('href')).addClass('tabs-content--active');
  });
  app.validation.init();
  app.burger.init();
  app.dropMenu.init();
  app.searchForm.init();
  app.dropBasket.init();
  app.promoSale.init();
  app.iconsSlider.init();
  app.sliderSections.init();
  app.instagram.init();
  app.catalogCard.init();
  app.asideFilters.init();
  app.catalogFilters.init();
  app.sortFilter.init();
  app.sizeFilter.init();
  app.pricefilter.init();
  app.productCard.init();
  app.productPopup.init();
  app.productDetails.init();
  app.popup.init();
  app.regionPopup.init();
  app.checkout.init();
  app.blog.init();
  app.otherNews.init();
  app.faq.init();
  app.feedback.init();
  app.pageup.init();
  app.auth.init();

  if ($('main').hasClass('basket-page')) {
    app.basketTotal.init();
  }
  /* if ($('main').hasClass('basket-page')) {
  	app.pickupPopup.init();
  } */

});
//# sourceMappingURL=app.min.js.map
